<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>主题详情</title>
    <link rel="stylesheet" type="text/css" href="../style/core.css">
    <link rel="stylesheet" type="text/css" href="../lib/code-prettify/prettify.css">
</head>
<body>
<!-- nav导航 -->
<div class="navbar">
    <div class="nav-container">
        <!-- logo -->
        <a href="#" class="logo">
            <img src="../img/cnodejs_light.svg">
        </a>
        <!-- 导航链接 -->
        <ul>
            <li><a href="#">首页</a></li>
            <li><a href="#">未读消息</a></li>
            <li><a href="#">退出</a></li>
        </ul>
    </div>
</div>

<!-- 内容 -->
<!-- TODO 使用模板进行渲染 -->
<div class="main">
    <!-- 左边内容区 -->
    <div class="left-wrap">
        <div class="topic">
            <!-- 导航区: 如主页/问答 -->
            <div class="header">
                <ul class="breadcrumb">
                    <li>
                        <a href="#">主页</a>
                        <span class="divider">/</span>
                    </li>
                    <li class="active">
                        API
                    </li>
                </ul>
            </div>
            <!-- 主题区 -->
            <div id="topicContent">
            </div>
        </div> 
        <!-- 回复区 -->
        <div id="replyContent">
        </div>
        <!-- 新建回复区 -->
        <div></div>
    </div>
    <!-- 右边信息区: 作者的信息, 包含最近创建的主题, 最近回复的主题 -->
    <div class="right-wrap"></div>
</div>

<!-- TODO : 添加底部信息 -->

<!-- template -->
<!-- 主题模板 -->
<script type="text/html" id="topicTemplate">
<div class="topic-info">
    <div class="title">
        <span class="title-tab">置顶</span>
        <span class="title-text">{{data.title}}</span>
        <input type="submit" name="" value="收藏">
    </div>
    <!-- 相关信息 -->
    <div class="sub-info">
        <span>发布时间：<em>{{data.create_at | timeSep}}</em></span>
        <span>作者：<em>{{data.author.loginname}}</em></span>
        <span>浏览量：<em>{{data.visit_count}}</em></span>
        <span>上一次修改：<em>{{data.last_reply_at | timeSep}}</em></span>
    </div>
</div>
<!-- 内容区 -->
 <div class="inner topic">
    <div class="topic_content">
        {{#data.content}}
    </div>
</div>
</script>

<!-- 回复模板 -->
<script type="text/html" id="replyTemplate">
<div class="header">
    <span>{{data.reply_count}} 回复</span>
</div>
<div class="reply-list">
{{each data.replies as value i}}
    <div class="reply">
        <div class="reply-info">
            <img src="{{value.author.avatar_url}}">
            <a href="#">{{value.author.loginname}}</a>
            <span>{{i + 1}}楼</span>
            <span>{{value.create_at | timeSep}}</span>
        </div>
        <div class="reply-content">
            {{#value.content}}
        </div>
    </div>        
{{/each}}
</div>
</script>

<script type="text/javascript" src="../lib/jquery.min.js"></script>
<script type="text/javascript" src="../lib/utils.js"></script>
<script type="text/javascript" src="../lib/template.js"></script>
<script type="text/javascript" src="../lib/template.helper.js"></script>
<script type="text/javascript" src="../lib/code-prettify/prettify.js"></script>

<script type="text/javascript" src="../lib/topicInfo.js"></script>
<script type="text/javascript">
$(function() {
    TOPICINFO.initPage('57d8a789b11d78e3659db4e5');
    prettyPrint();
});
</script>
</body>
</html>